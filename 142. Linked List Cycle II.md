# 250909 

* 快慢雙指標:
    * 時間複雜度: $O(n)$
    * 空間複雜度: $O(1)$
* 雜湊表:
    * 時間複雜度: $O(n)$
    * 空間複雜度: $O(n)$


系列題: 接續 141 的判斷是否有環

## 雙指標: 如何求環的起點

設：
- `x`：頭節點到環起點的距離（非環部分的長度）。
- `y`：從環起點到相遇點的距離。
- `z`：從相遇點回到環起點的距離。

承接上一部分，在快慢節點相遇時，我們可以得知:
- `slow 走的距離 = x + y`
- `fast 走的距離 = x + y + n*(y+z)`
	- `n` 為大於 1 的整數，代表 `fast` 比 `slow` 多繞的圈數。
	- `y+z` 是環的長度。

由於 `fast` 的速度是 `slow` 的兩倍:
$$ 
\begin{matrix}
2·(x + y) = x + y + n(y + z) \\
=> x = n(y + z) - y \\
=> x = (n -1 )(y + z) + z
\end{matrix}
$$

為了方便說明，這裡先後討論  `n = 1` 和 `n > 1` 的情況。

### **當 n = 1**
$$x = z$$
此時，即**頭節點到環起點的距離等於相遇點到環起點的長度**。因此，如果要找到環起點，我們可以:
1. 將一個指標放回串列開頭，另一指標則維持在相遇處。
2. 讓兩個指標都以每回合走 1 步的速度前進。
3. 當兩個指標相遇時，所在的節點即是環的起點。

### **當 n > 1**

實際上<u>不論 n 是多少，做法都是一樣的</u>，因為從相遇點出發的指標在環內，而在環內移動的位置只受 `前進距離 mod 環長` 的影響 (可以想像成跑操場)。
而前進的距離 `x` 是 `(n-1)*環長 + z`，餘數永遠是 `z`，即走了 `x` 步後一定會落在相遇點前面的 `z` 個位置 。 