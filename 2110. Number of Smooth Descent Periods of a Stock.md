# 251215

DP 題，要想一下。

# 題目

給一整數陣列 `prices`，代表股票每天的價格，其中 `prices[i]` 是第 `i` 天的價格。  
返回所有合法的 **平滑遞減階段 Smooth Descent Periods** 的個數。

SDP 定義為：
* 一天及以上的連續天數
* 每天的股價比前一天恰好少 1

## DP

以 DP 的概念來看，可以想像有一個陣列 `dp [i]`，表示以第 `i` 天為結尾時所有可能的 SPD 數量。  

以範例中的 `prices = [3,2,1,4]` 來分析:
* 當 `i = 0`: 只有 `[3]` => `dp[0] = 1`
* 當 `i = 1`: `[3, 2]`, `[2]` => `dp[1] = dp[0] + 1 = 2`
* 當 `i = 2`: `[3, 2, 1]`, `[2, 1]`, `[1]` => `dp[2] = dp[1] + 1 = 3`
* 當 `i = 3`: `[4]` => `dp[3] = 1`

如果 `prices[i] == prices[i-1] - 1`，符合題目條件，代表該元素可以接續前面的 SDP，因此 `dp[i] = dp[i-1] + 1`; 若不符合條件，則該元素到此只有自己一個構成 SDP 的可能，即 `dp[i] = 1`。

因為 `dp[i]` 的值可由 `dp[i-1]` 推得，並不需要實際建立並維護一個 DP 陣列，而 `dp[0] = 1`，可使用一個變數從頭計算所有的 `dp[i]` 累加起來即可。



* 時間複雜度: $O(n)$
* 空間複雜度: $O(1)$

# 相關題型

# 參考資料

###### tags: `Array`, `Math`, `DP`