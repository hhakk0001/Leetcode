# 251029

觀察規律即可，簡單。

# 題意解析

給定一正整數 `n`，求**找到一個最小的數 `x`，滿足 `x >= n`**，**且**其二進制表示中**只有設置位** (Set bit，即 1 位元)。

## 第一次嘗試: 倍增後減一

觀察 `x` 可以發現其形式符合**梅森數 (Mersenne Number)**，即 $2^{p} - 1，p 為正整數$。那麼我們可以從 $x = 2^{0} - 1 = 1$ 開始，每次將 `x` 的值乘以 2，當 `x - 1 >= n `時，`x - 1` 即是我們要求的答案。

* 時間複雜度: $O(\log n)$
* 空間複雜度: $O(1)$

## 用位元長度直接求解

用 Python 整數型別內建的函式 `bit_length()` 可以知道該整數的位元長度。  
只要將 1 向左移動 `n.bit_length()` 位再減 1，就可將其位元全部轉換為 1。

> 例: 若 n = 5，二進位為 101。
> 則 n 之位元長為 3，將 1 往左移動 3 位為 1000。
> 1000 - 1 => 111，即得所求。 

* 時間複雜度: $O(1)$，位元操作靠近底層，極快。
* 空間複雜度: $O(1)$

# 相關題型

# 參考資料

* [梅森數與梅森質數](https://zh.wikipedia.org/zh-tw/%E6%A2%85%E6%A3%AE%E7%B4%A0%E6%95%B0)

###### tags: `Math`, `Bit Manipulation`