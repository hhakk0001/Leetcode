# 251205

表面上是前綴和，實際上是腦筋急轉彎。
難度偏簡單。

# 題目

給定一長度為 `n` 的整數數列 `nums`，考慮所有可能的「分區 (partition)」。  
分區的定義為選一個索引 i（通常 0 ≤ i < n - 1）將陣列分成兩個非空子陣列：
* 左子陣列為 `nums[0..i]`
* 右子陣列為 `nums[i+1..n-1]` 

如果左右半區的總和值之差是偶數 (even)，那這個 partition 就算有效，  
求回傳有效 partition 的數量。

## 第一次嘗試: 前綴和

左右半區的總和 = 整個整數陣列的總和。  
從 `left = [], right = nums` 開始模擬，  
逐步擴大左半區與縮小右半區的範圍。

| Pass | 切割點索引 `i` | 左半邊 `nums[0:i]` | 右半邊 `nums[i+1:n-1]` |
| ---- | -------------- | ------------------ | ---------------------- |
| 0    | 無（初始）     | []                 | [0, ..., n-1]          |
| 1    | 0              | [0]                | [1, ..., n-1]          |
| 2    | 1              | [0, 1]             | [2, ..., n-1]          |
| …    | …              | …                  | …                      |
| n-1  | n-2            | [0, ..., n-2]      | [n-1]                  |


* 時間複雜度: $O(n)$，計算總和與遍歷 n-1 個切割點。
* 空間複雜度: $O(1)$

## 數學解

設 `nums` 之和為 $S$，左右子陣列的和分別為 $L$、$S-L$。  
題目規定 `L-(S-L) = 2L-S` 需要為偶數才有效，而從整數的奇偶性可以知道，  
2L 一定是偶數，因此:
* 若 S 為奇數，2L-S 為偶數減奇數，必是奇數。
* 若 S 為偶數，2L-S 為偶數減偶數，必是偶數。

* 時間複雜度: $O(n)$，計算總和。
* 空間複雜度: $O(1)$

# 相關題型

# 參考資料

###### tags: `Array`, `Math`, `Prefix Sum`