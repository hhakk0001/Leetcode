# 25XXXX

[LCA](/解題技巧%20&%20心得/Lowest%20Common%20Ancestor%20最低共同祖先.md) 的經典題目

# 題目

給定一棵二元樹以及其中的兩個節點 p 和 q，要求找出它們的最近共同祖先（Lowest Common Ancestor, LCA）。
最近共同祖先定義為：在樹中同時擁有 p 和 q 為後代（子孫）的最深節點。注意，一個節點也可以是它自己的祖先。

## 第一次嘗試

我們可以將走訪結果分成下列幾種情況討論:
1. 當前為空節點: 沒有子樹或空樹，**返回當前(空)節點**。
2. 當前為 `p` 或 `q` 節點: 此時若另一個節點在當前節點的子樹中，那麼 LCA 只有可能是當前節點(或以上); 如果不在，也就不需要繼續往下遞迴搜尋。因此，**返回當前節點**。
1. 其他:
   1. `p、q` 分別在左右子樹: 只有可能是當前節點，**返回當前節點**。
   2. `p、q` 都在左/右子樹: **返回遞迴該子樹的結果**。 
   3. 都不在: 兩節點不在當前子樹中，**返回空節點**。


* 時間複雜度: $O(n)$
* 空間複雜度: $O(h)$，遞迴所用的 call stack，h 為樹高，最壞情況下為退化為 n。

# 相關題型

# 參考資料

###### tags: `DFS`, `Binary Tree`