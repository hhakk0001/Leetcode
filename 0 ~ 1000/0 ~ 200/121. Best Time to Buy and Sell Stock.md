# 250904 

* 暴力法: 超時
    * 時間複雜度: $O(n^2)$
    * 空間複雜度: $O(1)$
* DP 滾動修正:
    * 時間複雜度: $O(n)$
    * 空間複雜度: $O(1)$

## 為什麼可以只用一次迴圈找出最大利潤

我們需要找出一組 `prices[j] - prices[i]`（且 j > i）的最大值。

用暴力法需要雙層迴圈，嘗試過每一組買進賣出的組合，才知道哪一組價格獲利最多。

```python
for i in range(len(prices)):
    for j in range(i+1, len(prices)):
        profit = prices[j] - prices[i]
```
也就是：
* 外層決定「哪一天買」
* 內層決定「哪一天賣」
* 計算每一組 i < j (有收益時)的價差

但其實不需要在每次買入時，就把後面天數的價差都算過一次，因為只要記住歷史最低價，就可以在每一天計算「今天若賣出」的最大可能利潤。

這裡可以用一個變數 `min_price` 來儲存迄今為止最低的買入價格，並透過一次迴圈每天檢查是否能獲得最大價差，即:
1. 更新 `min_price`
2. 計算「今天若賣出」可獲得的利潤
3. 符合條件則更新 `max_profit`



