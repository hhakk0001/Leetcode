# 251225

二分搜尋的經典題  
注意邊界條件的涵義

# 題目

給定一個已排序、非遞減的整數陣列 `nums`，以及一個整數 `target`。
請找出 `target` 在陣列中第一次出現的位置與最後一次出現的位置，並以陣列形式回傳。  
若陣列中不存在 `target`，則回傳 `[-1, -1]`

## 二分搜尋法

題目可以被拆解為兩個子問題:
1. 求大於等於 target 的第一個元素
2. 求等於 target 的最後一個元素

對於已排序陣列，可使用二分搜尋的概念解決上述兩個問題。
假設左右指標 `[L, R]` 為閉區間，  
當二分搜尋 `target` 結束時，兩指標正好交錯，  
此時 `L` 就會指向第一個大於等於 `target` 的位置，即第一小題所求。

第二個問題可轉換為:  
**找出第一個滿足 `nums[i] >= target + 1` 的索引，再將結果減一**，  
即可得到最後一個 `target` 出現的位置。

### 補充: Loop Invariant

在整個二分搜尋的過程中，會維持以下不變量：

- 區間 `[0, R]` 的元素一定 `< target`
- 區間 `[L, n-1]` 的元素一定 `>= target`

因此，當搜尋結束（`L > R`）時，  
`L` 必然指向第一個大於等於 `target` 的位置。


* 時間複雜度: $O(log n)$
* 空間複雜度: $O(n)$


# 相關題型

# 參考資料

###### tags: `Array`, `Binary Search`